<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ros on å°ç”²å“¥ã®åƒåœ¾å·¥å‚</title><link>https://alecthw.github.io/tags/ros/</link><description>Recent content in Ros on å°ç”²å“¥ã®åƒåœ¾å·¥å‚</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 25 Dec 2025 17:34:28 +0000</lastBuildDate><atom:link href="https://alecthw.github.io/tags/ros/index.xml" rel="self" type="application/rss+xml"/><item><title>RouterOS ç»™ UPNP è®¾ç½®ç™½åå•ï¼Œé¿å… APP ç™½å«–ä¸Šè¡Œå¸¦å®½</title><link>https://alecthw.github.io/p/routeros-upnp-blcok/</link><pubDate>Mon, 26 Feb 2024 20:11:45 +0800</pubDate><guid>https://alecthw.github.io/p/routeros-upnp-blcok/</guid><description>&lt;img src="https://alecthw.github.io/p/routeros-upnp-blcok/cover.jpg" alt="Featured image of post RouterOS ç»™ UPNP è®¾ç½®ç™½åå•ï¼Œé¿å… APP ç™½å«–ä¸Šè¡Œå¸¦å®½" /&gt;&lt;p&gt;ğŸ”¥ğŸ”¥ğŸ”¥ï¼šç¨³å®šå¥½ç”¨çš„æœºåœº/æ¢¯å­ &lt;a class="link" href="https://558343.dedicated-afflink.com/#/auth/2neqgxFl" target="_blank" rel="noopener"
&gt;TAG å…¨çƒ250+èŠ‚ç‚¹ã€99+æµåª’ä½“è§£é”&lt;/a&gt;ï¼Œæ›´å¤šå‚è€ƒ&lt;a class="link" href="https://alecthw.github.io/p/airport-recommend/" &gt;æœºåœºæ¨è&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ros-çš„-upnp"&gt;ROS çš„ UPNP
&lt;/h2&gt;&lt;p&gt;ç”±äº ROS çš„ UPNP åŠŸèƒ½æ²¡æœ‰è‡ªå¸¦ç±»ä¼¼é»‘ç™½åå•ç±»ä¼¼çš„åŠŸèƒ½ï¼Œé‚£åªèƒ½ä»é˜²ç«å¢™å…¥æ‰‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;UPNP æœåŠ¡ç«¯æ¶‰åŠä¸¤ä¸ªç«¯å£ï¼Œ1900(UDP) å’Œ 2828(TCP)ã€‚é‚£ä¹ˆï¼Œç›®æ ‡å°±å¾ˆæ˜ç¡®äº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å»ºä¸ªç™½åå•&lt;/li&gt;
&lt;li&gt;ä»…å…è®¸ç™½åå•å†…çš„ IP è®¿é—®è¿™ä¸¤ä¸ªç«¯å£&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="é…ç½®è¿‡ç¨‹"&gt;é…ç½®è¿‡ç¨‹
&lt;/h2&gt;&lt;h3 id="åˆ›å»ºä¸€ä¸ªåç§°ä¸º-allow_upnp-çš„åœ°å€åˆ—è¡¨ä½œç™½åå•"&gt;åˆ›å»ºä¸€ä¸ªåç§°ä¸º &lt;code&gt;allow_upnp&lt;/code&gt; çš„åœ°å€åˆ—è¡¨ä½œç™½åå•
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip firewall address-list
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;add &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.1.1 &lt;span class="nv"&gt;list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;allow_upnp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;add &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.1.2 &lt;span class="nv"&gt;list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;allow_upnp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="åˆ›å»ºä¸¤æ¡-filter-è§„åˆ™"&gt;åˆ›å»ºä¸¤æ¡ filter è§„åˆ™
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip firewall filter
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;add &lt;span class="nv"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;drop &lt;span class="nv"&gt;chain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;input dst-port&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1900&lt;/span&gt; &lt;span class="nv"&gt;protocol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;udp src-address-list&lt;span class="o"&gt;=&lt;/span&gt;!allow_upnp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;add &lt;span class="nv"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;drop &lt;span class="nv"&gt;chain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;input dst-port&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2828&lt;/span&gt; &lt;span class="nv"&gt;protocol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;tcp src-address-list&lt;span class="o"&gt;=&lt;/span&gt;!allow_upnp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æœåŸæ¥è§„åˆ™è¾ƒå¤šï¼Œæ³¨æ„ä¸‹æ”¾çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;h3 id="é‡å¯ä¸‹-upnp-æœåŠ¡"&gt;é‡å¯ä¸‹ UPNP æœåŠ¡
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip upnp
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;no
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±é…ç½®å¥½äº†ï¼Œç­‰ä¸ªå‡ ä¸ªå°æ—¶çœ‹çœ‹ï¼ŒNAT åˆ—è¡¨é‡Œï¼Œé™¤äº†å…è®¸çš„å‡ ä¸ª IP æœ‰ UPNPï¼Œå…¶ä»–åº”è¯¥éƒ½æ²¡æœ‰ã€‚ä¸–ç•Œæ¸…å‡€äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰é—®é¢˜ï¼Œä¼˜å…ˆæ£€æŸ¥ filter è§„åˆ™é¡ºåºã€‚&lt;/p&gt;
&lt;h2 id="é™„dhcp-é™æ€è‡ªåŠ¨æ·»åŠ åˆ°åœ°å€åˆ—è¡¨"&gt;é™„ï¼šDHCP é™æ€è‡ªåŠ¨æ·»åŠ åˆ°åœ°å€åˆ—è¡¨
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip dhcp-server lease
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;add &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.1.x mac-address&lt;span class="o"&gt;=&lt;/span&gt;xx:xx:xx:xx:xx:xx address-lists&lt;span class="o"&gt;=&lt;/span&gt;allow_upnp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>RouterOS CHR v7 UEFI é•œåƒï¼Œä½¿ç”¨ Github Actions æ„å»º</title><link>https://alecthw.github.io/p/routeros-uefi/</link><pubDate>Thu, 07 Dec 2023 17:11:11 +0800</pubDate><guid>https://alecthw.github.io/p/routeros-uefi/</guid><description>&lt;img src="https://alecthw.github.io/p/routeros-uefi/cover.png" alt="Featured image of post RouterOS CHR v7 UEFI é•œåƒï¼Œä½¿ç”¨ Github Actions æ„å»º" /&gt;&lt;p&gt;ğŸ”¥ğŸ”¥ğŸ”¥ï¼šç¨³å®šå¥½ç”¨çš„æœºåœº/æ¢¯å­ &lt;a class="link" href="https://558343.dedicated-afflink.com/#/auth/2neqgxFl" target="_blank" rel="noopener"
&gt;TAG å…¨çƒ250+èŠ‚ç‚¹ã€99+æµåª’ä½“è§£é”&lt;/a&gt;ï¼Œæ›´å¤šå‚è€ƒ&lt;a class="link" href="https://alecthw.github.io/p/airport-recommend/" &gt;æœºåœºæ¨è&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ğŸ‘‰ éœ€è¦çš„æœ‹å‹è‡ªå–ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ Github Actions æ„å»ºï¼Œè¿‡ç¨‹å…¨é€æ˜ï¼Œä¸å­˜åœ¨åé—¨çš„å¯èƒ½ã€‚å®˜æ–¹é•œåƒï¼Œ&lt;code&gt;éç ´è§£&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;RouterOS chr-7.x å·²ç»åŒ…å«äº† efi å¯åŠ¨æ–‡ä»¶ï¼Œä½†æ˜¯åˆ†åŒºç±»å‹æ˜¯ ext2ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåªè¦æŠŠåˆ†åŒºç±»å‹ä» ext2 è½¬æˆ fat å°±å¯ä»¥ä» uefi å¼•å¯¼å¯åŠ¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå–œæ¬¢ GPT çš„è¯ï¼Œä¹Ÿå¯ä»¥åˆ¶ä½œ Hybrid MBRã€‚&lt;/p&gt;
&lt;h2 id="é•œåƒä¸‹è½½"&gt;&lt;a class="link" href="https://github.com/alecthw/mikrotik-routeros-chr-efi/releases" target="_blank" rel="noopener"
&gt;é•œåƒä¸‹è½½&lt;/a&gt;
&lt;/h2&gt;&lt;p&gt;ğŸ‘‰ &lt;a class="link" href="https://github.com/alecthw/mikrotik-routeros-chr-efi/releases" target="_blank" rel="noopener"
&gt;Release&lt;/a&gt; ğŸ‘ˆ&lt;/p&gt;
&lt;p&gt;ğŸ‘‰ &lt;a class="link" href="https://www.right.com.cn/forum/thread-8271574-1-1.html" target="_blank" rel="noopener"
&gt;ç ´è§£ç‰ˆä¼ é€é—¨&lt;/a&gt; ğŸ‘ˆ&lt;/p&gt;
&lt;p&gt;åŒ…å«çš„é•œåƒç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;img&lt;/li&gt;
&lt;li&gt;qcow2&lt;/li&gt;
&lt;li&gt;vdi&lt;/li&gt;
&lt;li&gt;vhd&lt;/li&gt;
&lt;li&gt;vhdx&lt;/li&gt;
&lt;li&gt;vmdk&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="hybrid-mbr-è®°å½•"&gt;Hybrid MBR è®°å½•
&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="c1"&gt;# use GPT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; t &lt;span class="c1"&gt;# change partition code&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="c1"&gt;# select first partition&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;8300&lt;/span&gt; &lt;span class="c1"&gt;# change code to Linux filesystem 8300&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; r &lt;span class="c1"&gt;# Recovery/transformation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; h &lt;span class="c1"&gt;# Hybrid MBR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="c1"&gt;# partitions added to the hybrid MBR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; n &lt;span class="c1"&gt;# Place EFI GPT (0xEE) partition first in MBR (good for GRUB)? (Y/N)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="c1"&gt;# Enter an MBR hex code (default 83)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; y &lt;span class="c1"&gt;# Set the bootable flag? (Y/N)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="c1"&gt;# Enter an MBR hex code (default 83)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; n &lt;span class="c1"&gt;# Set the bootable flag? (Y/N)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; n &lt;span class="c1"&gt;# Unused partition space(s) found. Use one to protect more partitions? (Y/N)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; w &lt;span class="c1"&gt;# write changes to disk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; y &lt;span class="c1"&gt;# confirm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sudo -E gdisk /dev/nbd1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item><item><title>Vxlan æ˜¯å¦èƒ½è®© GFW æ”¾æ¾ä¸€ç‚¹ï¼ŸVxlan æ­å»ºç§‘å­¦ä¸Šç½‘å®éªŒ</title><link>https://alecthw.github.io/p/fuck-gfw-vxlan/</link><pubDate>Fri, 01 Dec 2023 22:09:55 +0800</pubDate><guid>https://alecthw.github.io/p/fuck-gfw-vxlan/</guid><description>&lt;img src="https://alecthw.github.io/p/fuck-gfw-vxlan/cover.png" alt="Featured image of post Vxlan æ˜¯å¦èƒ½è®© GFW æ”¾æ¾ä¸€ç‚¹ï¼ŸVxlan æ­å»ºç§‘å­¦ä¸Šç½‘å®éªŒ" /&gt;&lt;p&gt;ğŸ”¥ğŸ”¥ğŸ”¥ï¼šç¨³å®šå¥½ç”¨çš„æœºåœº/æ¢¯å­ &lt;a class="link" href="https://558343.dedicated-afflink.com/#/auth/2neqgxFl" target="_blank" rel="noopener"
&gt;TAG å…¨çƒ250+èŠ‚ç‚¹ã€99+æµåª’ä½“è§£é”&lt;/a&gt;ï¼Œæ›´å¤šå‚è€ƒ&lt;a class="link" href="https://alecthw.github.io/p/airport-recommend/" &gt;æœºåœºæ¨è&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;VXLANï¼ˆVirtual eXtensible Local Area Networkï¼Œè™šæ‹Ÿæ‰©å±•å±€åŸŸç½‘ï¼‰ï¼Œæ˜¯ç”± IETF å®šä¹‰çš„ NVO3ï¼ˆNetwork Virtualization over Layer 3ï¼‰æ ‡å‡†æŠ€æœ¯ä¹‹ä¸€ï¼Œæ˜¯å¯¹ä¼ ç»Ÿ VLAN åè®®çš„ä¸€ç§æ‰©å±•ã€‚VXLAN çš„ç‰¹ç‚¹æ˜¯å°† L2 çš„ä»¥å¤ªå¸§å°è£…åˆ° UDP æŠ¥æ–‡ï¼ˆå³ L2 over L4ï¼‰ä¸­ï¼Œå¹¶åœ¨ L3 ç½‘ç»œä¸­ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;VXLAN æœ¬è´¨ä¸Šæ˜¯ä¸€ç§éš§é“æŠ€æœ¯ï¼Œåœ¨æºç½‘ç»œè®¾å¤‡ä¸ç›®çš„ç½‘ç»œè®¾å¤‡ä¹‹é—´çš„ IP ç½‘ç»œä¸Šï¼Œå»ºç«‹ä¸€æ¡é€»è¾‘éš§é“ï¼Œå°†ç”¨æˆ·ä¾§æŠ¥æ–‡ç»è¿‡ç‰¹å®šçš„å°è£…åé€šè¿‡è¿™æ¡éš§é“è½¬å‘ã€‚&lt;/p&gt;
&lt;p&gt;å…³äº VXLANï¼Œè¿™é‡Œä¸å±•å¼€è®²ï¼Œåªéœ€è¦çŸ¥é“ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ƒæ˜¯ä¸€ç§éš§é“æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;å®ƒåœ¨å…¬æœ‰äº‘ä¸­è¢«å¹¿æ³›åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ›´æ·±å…¥çš„äº†è§£ï¼Œå¯ä»¥å‚è€ƒ&lt;a class="link" href="https://support.huawei.com/enterprise/zh/doc/EDOC1100087027" target="_blank" rel="noopener"
&gt;ä»€ä¹ˆæ˜¯ VXLAN&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯éš§é“ï¼Œå°±å¯ä»¥ç”¨å®ƒæ¥æ•´æ´»å„¿ã€‚ç”±äºè¢«å…¬æœ‰äº‘å¹¿æ³›åº”ç”¨ï¼ŒçŒœæµ‹ GFW å¯¹å®ƒçš„å®¡æŸ¥åº”è¯¥æœ‰æ‰€æ”¾æ¾ã€‚è®°å¾—æ›¾ç»åœ¨æŸå…¬å¸äº‘æœåŠ¡çš„ä¸€åœºä¼šè®®ä¸Šï¼Œå¬å…¶é«˜ç®¡è®²ï¼Œå…±æœ‰äº‘çš„è·¨å›½æµé‡é‡Œï¼Œ80% çš„æµé‡éƒ½æ˜¯éæ³•ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢å¦‚æ­¤ï¼Œå¦‚æœç”¨ VXLAN æ¥ç§‘å­¦ä¸Šç½‘ï¼Œæ•ˆæœä¼šä¸ä¼šä¸é”™ï¼Ÿ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-txt" data-lang="txt"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;å…ˆè¯´ç»“è®ºå§ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- ç›´æ¥æŠŠ VXLAN ä½œä¸ºéš§é“ç¿»å¢™æ˜¯ä¸å¯è¡Œçš„ï¼Œç»æµ‹è¯•ï¼Œç”±äº VXLAN å¹¶ä¸åŠ å¯†ï¼ŒGFW çš„å®¡æŸ¥åº”è¯¥æ˜¯ä¼šå‰¥ç¦» VXLAN å¤´éƒ¨ç›´æ¥å®¡æŸ¥å†…éƒ¨æŠ¥æ–‡ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;- æ‰€ä»¥ï¼Œå³ä½¿ç»è¿‡äº† VXLAN éš§é“ï¼ŒæŠŠ VPS ä½œä¸ºç½‘å…³ï¼Œè®¿é—®æƒ…å†µå’Œå›½å†…ç›´æ¥è®¿é—®ä¸€è‡´ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="ç½‘ç»œè§„åˆ’"&gt;ç½‘ç»œè§„åˆ’
&lt;/h2&gt;&lt;p&gt;æ•´ä½“æ€è·¯å°±æ˜¯æ—è·¯ç”±çš„æ€è·¯ï¼Œç›´æ¥ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="https://alecthw.github.io/p/fuck-gfw-vxlan/network.jpg"
width="996"
height="307"
srcset="https://alecthw.github.io/p/fuck-gfw-vxlan/network_hu_1520728c0cf4baf7.jpg 480w, https://alecthw.github.io/p/fuck-gfw-vxlan/network_hu_728cf9310f3d5b0f.jpg 1024w"
loading="lazy"
alt="network"
class="gallery-image"
data-flex-grow="324"
data-flex-basis="778px"
&gt;&lt;/p&gt;
&lt;p&gt;åˆ’é‡ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VXLAN æ˜¯è¦åŒå‘é…ç½®çš„ï¼Œæ‰€ä»¥æœ¬åœ°å’Œè¿œç«¯éƒ½å¿…é¡»æ˜¯å…¬ç½‘IPã€‚&lt;/li&gt;
&lt;li&gt;æœ¬åœ°ä½¿ç”¨ RouterOS 7ï¼Œå½“æ—¶èµ·ä¸ª Liunx ä¹Ÿå¯ä»¥ï¼Œç”¨ ROS ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿é…ç½®ç­–ç•¥è·¯ç”±æ¥åˆ†æµã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="å¼€å§‹é…ç½®"&gt;å¼€å§‹é…ç½®
&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ¶‰åŠåˆ°å…¬ç½‘çš„ IP çš„ï¼Œä½¿ç”¨ &lt;code&gt;x&lt;/code&gt; æ›¿æ¢äº†ä¸€éƒ¨åˆ†ï¼Œå¤åˆ¶å‘½ä»¤æ—¶è¯·è‡ªè¡Œæ›¿æ¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯æ–°æ‹‰èµ·äº†ä¸€ä¸ª Linode VPS ä½œä¸ºè¿œç«¯æœåŠ¡å™¨ï¼Œç³»ç»Ÿä½¿ç”¨çš„æ˜¯ Ubuntu 22.04ã€‚&lt;/p&gt;
&lt;h3 id="vps-å‡†å¤‡å·¥ä½œ"&gt;VPS å‡†å¤‡å·¥ä½œ
&lt;/h3&gt;&lt;h4 id="1-ç¦ç”¨é˜²ç«å¢™"&gt;1. ç¦ç”¨é˜²ç«å¢™
&lt;/h4&gt;&lt;p&gt;æ—¢ç„¶æ˜¯å®éªŒï¼Œå…ˆç¦ç”¨é˜²ç«å¢™ï¼Œé¿å…å…¶å¯èƒ½çš„å½±å“ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl stop ufw.service
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;systemctl disable ufw.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="2-å¼€å¯è½¬å‘"&gt;2. å¼€å¯è½¬å‘
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vim /etc/sysctl.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å–æ¶ˆä»¥ä¸‹ä¸¤è¡Œçš„æ³¨é‡Š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;net.ipv4.ip_forward=1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;net.ipv6.conf.all.forwarding=1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å†æ‰§è¡Œ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sysctl -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="routeros-å‡†å¤‡å·¥ä½œ"&gt;RouterOS å‡†å¤‡å·¥ä½œ
&lt;/h3&gt;&lt;p&gt;RouterOS çš„é…ç½®å°±ä¸æˆª winbox é…ç½®ç•Œé¢çš„å›¾äº†ï¼Œå‘½ä»¤è¡Œå’Œç•Œé¢åŸºæœ¬éƒ½èƒ½å¯¹ä¸Šï¼Œç›´æ¥è´´å‘½ä»¤è¡Œäº†ã€‚&lt;/p&gt;
&lt;h4 id="1-ipæœåŠ¡çš„å®‰å…¨ç­–ç•¥å…ˆåŠ ä¸Šé¿å…è¢«çˆ†ç ´å¯¼è‡´æ§åˆ¶å°ç–¯ç‹‚è¾“å‡ºç™»å½•å¤±è´¥æ—¥å¿—"&gt;1. IPæœåŠ¡çš„å®‰å…¨ç­–ç•¥å…ˆåŠ ä¸Šï¼Œé¿å…è¢«çˆ†ç ´ï¼Œå¯¼è‡´æ§åˆ¶å°ç–¯ç‹‚è¾“å‡ºç™»å½•å¤±è´¥æ—¥å¿—
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; telnet &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; ftp &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; www &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; ssh &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; www-ssl &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; api &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; winbox &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip service &lt;span class="nb"&gt;set&lt;/span&gt; api-ssl &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="2-é…ç½®ä¸Šç½‘è¿™é‡Œæ˜¯-pppoe-æ‹¨å·"&gt;2. é…ç½®ä¸Šç½‘ï¼Œè¿™é‡Œæ˜¯ PPPOE æ‹¨å·
&lt;/h4&gt;&lt;p&gt;ä¿®æ”¹ä¸‹æ¥å£åå­—&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface ethernet &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; find default-name&lt;span class="o"&gt;=&lt;/span&gt;ether1 &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ether1-wan
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface ethernet &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; find default-name&lt;span class="o"&gt;=&lt;/span&gt;ether2 &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ether2-lan
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é…ç½® PPPOE&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface pppoe-client add &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ether2-wan &lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;pppoe-wan &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&amp;lt;user&amp;gt; &lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&amp;lt;password&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é…ç½® DNS&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip dns &lt;span class="nb"&gt;set&lt;/span&gt; allow-remote-requests&lt;span class="o"&gt;=&lt;/span&gt;yes &lt;span class="nv"&gt;servers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;223.5.5.5,114.114.114.114
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="é…ç½®æ£€æŸ¥"&gt;é…ç½®æ£€æŸ¥
&lt;/h3&gt;&lt;h4 id="æœ¬åœ°-ros-ping-vps"&gt;æœ¬åœ° ROS ping VPS
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rostest&lt;span class="o"&gt;]&lt;/span&gt; &amp;gt; ping 172.233.142.x
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; SEQ HOST SIZE TTL TIME STATUS
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;0&lt;/span&gt; 172.233.142.x &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;47&lt;/span&gt; 184ms440us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;1&lt;/span&gt; 172.233.142.x &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;47&lt;/span&gt; 184ms340us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;2&lt;/span&gt; 172.233.142.x &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;47&lt;/span&gt; 184ms235us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;sent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nv"&gt;received&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; packet-loss&lt;span class="o"&gt;=&lt;/span&gt;0% min-rtt&lt;span class="o"&gt;=&lt;/span&gt;184ms235us avg-rtt&lt;span class="o"&gt;=&lt;/span&gt;184ms338us max-rtt&lt;span class="o"&gt;=&lt;/span&gt;184ms440u
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ç½‘ç»œæ˜¯é€šçš„ã€‚&lt;/p&gt;
&lt;h4 id="vps-ping-æœ¬åœ°-ros-çš„å…¬ç½‘-ip"&gt;VPS ping æœ¬åœ° ROS çš„å…¬ç½‘ IP
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# ping 121.229.x.x
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PING 121.229.x.x &lt;span class="o"&gt;(&lt;/span&gt;121.229.x.x&lt;span class="o"&gt;)&lt;/span&gt; 56&lt;span class="o"&gt;(&lt;/span&gt;84&lt;span class="o"&gt;)&lt;/span&gt; bytes of data.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 121.229.x.x: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;186&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 121.229.x.x: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;186&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 121.229.x.x: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;186&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;--- 121.229.x.x ping statistics ---
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;3&lt;/span&gt; packets transmitted, &lt;span class="m"&gt;3&lt;/span&gt; received, 0% packet loss, &lt;span class="nb"&gt;time&lt;/span&gt; 2002ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rtt min/avg/max/mdev &lt;span class="o"&gt;=&lt;/span&gt; 185.582/185.879/186.073/0.213 ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ç½‘ç»œæ˜¯é€šçš„ã€‚&lt;/p&gt;
&lt;h3 id="vxlan-vps-é…ç½®"&gt;VXLAN: VPS é…ç½®
&lt;/h3&gt;&lt;p&gt;ä»¥ä¸‹åˆ†åˆ«ä¸ºå‘½ä»¤è¡Œå’Œ netplan çš„é…ç½®ã€‚&lt;/p&gt;
&lt;h4 id="å‘½ä»¤è¡Œ"&gt;å‘½ä»¤è¡Œ
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ip link add vxlan0 &lt;span class="nb"&gt;type&lt;/span&gt; vxlan &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; id &lt;span class="m"&gt;3000&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; remote 121.229.x.x &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; dstport &lt;span class="m"&gt;4789&lt;/span&gt; &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;local&lt;/span&gt; 172.233.142.x &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; dev eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ip link &lt;span class="nb"&gt;set&lt;/span&gt; vxlan0 up
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ip addr add 192.168.99.2/24 dev vxlan0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹ vxlan0 æ¥å£&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# ifconfig
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;vxlan0: &lt;span class="nv"&gt;flags&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt; mtu &lt;span class="m"&gt;1450&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; inet 192.168.99.2 netmask 255.255.255.0 broadcast 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; inet6 fe80::ec90:6ff:fe88:372d prefixlen &lt;span class="m"&gt;64&lt;/span&gt; scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ether ee:90:06:88:37:2d txqueuelen &lt;span class="m"&gt;1000&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Ethernet&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; RX packets &lt;span class="m"&gt;0&lt;/span&gt; bytes &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;0.0 B&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; RX errors &lt;span class="m"&gt;0&lt;/span&gt; dropped &lt;span class="m"&gt;0&lt;/span&gt; overruns &lt;span class="m"&gt;0&lt;/span&gt; frame &lt;span class="m"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; TX packets &lt;span class="m"&gt;8&lt;/span&gt; bytes &lt;span class="m"&gt;544&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;544.0 B&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; TX errors &lt;span class="m"&gt;0&lt;/span&gt; dropped &lt;span class="m"&gt;0&lt;/span&gt; overruns &lt;span class="m"&gt;0&lt;/span&gt; carrier &lt;span class="m"&gt;0&lt;/span&gt; collisions &lt;span class="m"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹è·¯ç”±è¡¨ï¼Œå¤šäº†ä¸‹é¢çš„å†…å®¹ï¼Œæ‰€æœ‰ç›®çš„åœ°å€æ˜¯ 192.168.99.0/24 ç½‘ç»œåŒ…è¦é€šè¿‡ vxlan0 è½¬å‘ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# ip route show
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;192.168.99.0/24 dev vxlan0 proto kernel scope link src 192.168.99.2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹ fdbã€‚è¿™ä¸ªè¡¨é¡¹çš„æ„æ€æ˜¯ï¼Œé»˜è®¤çš„ VTEP å¯¹ç«¯åœ°å€ä¸º 121.229.x.xã€‚æ¢å¥è¯è¯´ï¼ŒåŸå§‹æŠ¥æ–‡ç»è¿‡ vxlan0 åä¼šè¢«å†…æ ¸æ·»åŠ ä¸Š VXLAN å¤´éƒ¨ï¼Œè€Œå¤–éƒ¨ UDP å¤´çš„ç›®çš„ IP åœ°å€ä¼šè¢«å† ä¸Š 121.229.x.xã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# bridge fdb show
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;00:00:00:00:00:00 dev vxlan0 dst 121.229.x.x via eth0 self permanent
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="netplan-é…ç½®æ–‡ä»¶"&gt;netplan é…ç½®æ–‡ä»¶
&lt;/h4&gt;&lt;p&gt;å‘½ä»¤è¡Œé…ç½®é‡å¯åä¼šå¤±æ•ˆï¼Œæ”¾åˆ° netplan é‡Œé…ç½®æŒä¹…åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/etc/netplan/99-vxlan-config.yaml&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;network&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;tunnels&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;vxlan0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;vxlan&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;local&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;172.233.142&lt;/span&gt;&lt;span class="l"&gt;.x&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;remote&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;121.229&lt;/span&gt;&lt;span class="l"&gt;.x.x&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3000&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;port&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;4789&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;addresses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="m"&gt;192.168.99.2&lt;/span&gt;&lt;span class="l"&gt;/24&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="vxlan-æœ¬åœ°-ros-é…ç½®"&gt;VXLAN: æœ¬åœ° ROS é…ç½®
&lt;/h3&gt;&lt;p&gt;å…ˆåˆ›å»º VXLANï¼Œç„¶åå†æŠŠ VXLAN æ¥å£å’Œ LAN å£æ¡¥æ¥ã€‚&lt;/p&gt;
&lt;h4 id="åˆ›å»º-vxlan"&gt;åˆ›å»º VXLAN
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface vxlan add &lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;vxlan0 &lt;span class="nv"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;4789&lt;/span&gt; &lt;span class="nv"&gt;vni&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface vxlan vteps add &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;vxlan0 remote-ip&lt;span class="o"&gt;=&lt;/span&gt;172.233.142.x
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="æ¡¥æ¥-vxlan0-å’Œ-ether2-lan"&gt;æ¡¥æ¥ vxlan0 å’Œ ether2-lan
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface bridge add &lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;br-lan
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface bridge port add &lt;span class="nv"&gt;bridge&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;br-lan &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ether2-lan
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/interface bridge port add &lt;span class="nv"&gt;bridge&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;br-lan &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;vxlan0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="br-lan-é…ç½®-ip"&gt;br-lan é…ç½® IP
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/ip address add &lt;span class="nv"&gt;address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.99.1/24 &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;br-lan &lt;span class="nv"&gt;network&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;192.168.99.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™é‡Œé…ç½®çš„ IP å’Œ VPS ä¸Šç»™ vxlan0 æ¥å£é…ç½®çš„ IP æ˜¯ç›¸åŒç½‘æ®µçš„ã€‚&lt;/p&gt;
&lt;h3 id="æµ‹è¯•-vxlan-éš§é“"&gt;æµ‹è¯• VXLAN éš§é“
&lt;/h3&gt;&lt;p&gt;åœ¨ VPS ä¸Š ping ROS çš„ br-lan æ¥å£çš„ IP&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# ping 192.168.99.1
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PING 192.168.99.1 &lt;span class="o"&gt;(&lt;/span&gt;192.168.99.1&lt;span class="o"&gt;)&lt;/span&gt; 56&lt;span class="o"&gt;(&lt;/span&gt;84&lt;span class="o"&gt;)&lt;/span&gt; bytes of data.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.1: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;64&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;144&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.1: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;64&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;144&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.1: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;64&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;144&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;--- 192.168.99.1 ping statistics ---
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;3&lt;/span&gt; packets transmitted, &lt;span class="m"&gt;3&lt;/span&gt; received, 0% packet loss, &lt;span class="nb"&gt;time&lt;/span&gt; 2003ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rtt min/avg/max/mdev &lt;span class="o"&gt;=&lt;/span&gt; 144.359/144.400/144.446/0.035 ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åœ¨ ROS ä¸Š ping VPS çš„ vxlan0 æ¥å£çš„ IP&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rostest&lt;span class="o"&gt;]&lt;/span&gt; &amp;gt; ping 192.168.99.2
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; SEQ HOST SIZE TTL TIME STATUS
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;0&lt;/span&gt; 192.168.99.2 &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;64&lt;/span&gt; 144ms271us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;1&lt;/span&gt; 192.168.99.2 &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;64&lt;/span&gt; 144ms647us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="m"&gt;2&lt;/span&gt; 192.168.99.2 &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="m"&gt;64&lt;/span&gt; 144ms309us
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;sent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nv"&gt;received&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; packet-loss&lt;span class="o"&gt;=&lt;/span&gt;0% min-rtt&lt;span class="o"&gt;=&lt;/span&gt;144ms271us g-rtt&lt;span class="o"&gt;=&lt;/span&gt;144ms409us max-rtt&lt;span class="o"&gt;=&lt;/span&gt;144ms647us
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒVXLAN å·²ç»äº’é€šäº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ VPS ä¸Šå†æŸ¥çœ‹ä¸€ä¸‹ fdbï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°ç½‘ç»œçš„ä¸€äº› MAC åœ°å€å·²ç»å­¦ä¹ è¿‡æ¥äº†ï¼Œæ‘˜å–äº†éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;00:00:00:00:00:00 dev vxlan0 dst 121.229.x.x self permanent
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ac:82:26:xx:xx:xx dev vxlan0 dst 121.229.x.x self
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;26:99:ac:xx:xx:xx dev vxlan0 dst 121.229.x.x self
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;98:3f:60:xx:xx:xx dev vxlan0 dst 121.229.x.x self
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="åœ¨-vps-ä¸Šé…ç½®-snat"&gt;åœ¨ VPS ä¸Šé…ç½® snat
&lt;/h3&gt;&lt;p&gt;æºåœ°å€ NAT ä¸å¤šè¯´äº†ï¼Œä¸æ˜ç™½çš„è‡ªå·±æŸ¥ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;iptables -t nat &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -A POSTROUTING &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -s 192.168.99.0/24 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -o eth0 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -j SNAT &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; --to-source 172.233.142.x
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é…ç½®å®ŒæŸ¥çœ‹ä¸‹ï¼Œç¡®ä¿é…ç½®æˆåŠŸ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# iptables -nL -t nat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Chain POSTROUTING &lt;span class="o"&gt;(&lt;/span&gt;policy ACCEPT&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;target prot opt &lt;span class="nb"&gt;source&lt;/span&gt; destination
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;SNAT all -- 192.168.99.0/24 0.0.0.0/0 to:172.233.142.x
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="pc-ä¸Šç½‘æµ‹è¯•"&gt;PC ä¸Šç½‘æµ‹è¯•
&lt;/h2&gt;&lt;p&gt;æŠŠæœ¬åœ°ç”µè„‘çš„ç½‘ç»œé…ç½®æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ°å€: 192.168.99.200&lt;/li&gt;
&lt;li&gt;æ©ç : 255.255.255.0&lt;/li&gt;
&lt;li&gt;ç½‘å…³: 192.168.99.2&lt;/li&gt;
&lt;li&gt;DNS: 8.8.8.8&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ VPS ä¸Š ping ä¸€ä¸‹ &lt;code&gt;192.168.99.200&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;root@localhost:~# ping 192.168.99.200
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;PING 192.168.99.200 &lt;span class="o"&gt;(&lt;/span&gt;192.168.99.200&lt;span class="o"&gt;)&lt;/span&gt; 56&lt;span class="o"&gt;(&lt;/span&gt;84&lt;span class="o"&gt;)&lt;/span&gt; bytes of data.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.200: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;128&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;145&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.200: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;128&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;144&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;64&lt;/span&gt; bytes from 192.168.99.200: &lt;span class="nv"&gt;icmp_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="nv"&gt;ttl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;128&lt;/span&gt; &lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;143&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;--- 192.168.99.200 ping statistics ---
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;3&lt;/span&gt; packets transmitted, &lt;span class="m"&gt;3&lt;/span&gt; received, 0% packet loss, &lt;span class="nb"&gt;time&lt;/span&gt; 1998ms
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rtt min/avg/max/mdev &lt;span class="o"&gt;=&lt;/span&gt; 143.159/144.091/144.858/0.703 ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒVPS å’Œæœ¬åœ° PC å·²ç»è¿é€šï¼Œå¹¶ä¸”è¿˜æ˜¯ç›¸åŒç½‘æ®µçš„äºŒå±‚åŸŸã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€æµè§ˆå™¨ï¼Œæ‰“å¼€ &lt;a class="link" href="https://ip.skk.moe/" target="_blank" rel="noopener"
&gt;https://ip.skk.moe/&lt;/a&gt; æµ‹è¯•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://alecthw.github.io/p/fuck-gfw-vxlan/test-result.jpg"
width="888"
height="819"
srcset="https://alecthw.github.io/p/fuck-gfw-vxlan/test-result_hu_36d25b266a344fc2.jpg 480w, https://alecthw.github.io/p/fuck-gfw-vxlan/test-result_hu_52b61bbe2c1a0270.jpg 1024w"
loading="lazy"
alt="test-result"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="260px"
&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯çŸ¥ï¼ŒIP åœ°å€å·²ç»æ˜¯ VPS çš„å…¬ç½‘IPï¼Œä½†æ˜¯è®¿é—®é˜»æ–­æƒ…å†µå’Œå›½å†…ç›´æ¥è®¿é—®ä¸€è‡´ï¼Œå¹¶ä¸”è¿˜é¢å¤–å¯¼è‡´ç™¾åº¦æ— æ³•è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¬¡æµ‹è¯•ï¼Œä¾‹å¦‚ Apple ç­‰æœªè¢« GFW å°é”çš„ç½‘ç«™éƒ½æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://alecthw.github.io/p/fuck-gfw-vxlan/Apple.jpg"
width="1352"
height="824"
srcset="https://alecthw.github.io/p/fuck-gfw-vxlan/Apple_hu_ba91d077102932e6.jpg 480w, https://alecthw.github.io/p/fuck-gfw-vxlan/Apple_hu_decad3a2e2e3b390.jpg 1024w"
loading="lazy"
alt="Apple"
class="gallery-image"
data-flex-grow="164"
data-flex-basis="393px"
&gt;&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯è§ï¼šç”±äº VXLAN å¹¶ä¸åŠ å¯†ï¼ŒGFW çš„å®¡æŸ¥åº”è¯¥æ˜¯ä¼šå‰¥ç¦» VXLAN å¤´éƒ¨ç›´æ¥å®¡æŸ¥å†…éƒ¨æŠ¥æ–‡ï¼Œæ‰€ä»¥è®¿é—®é˜»æ–­çš„ç»“æœå’Œå›½å†…ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id="ç»“è®º"&gt;ç»“è®º
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;GFW å¯¹ VXLAN å¹¶ä¸ä¼šæ”¾æ¾å®¡æŸ¥ï¼Œä½†æ˜¯çŒœæµ‹ï¼šVXLAN æŠ¥æ–‡ä¸­å«æœ‰è¢«é˜»æ–­çš„åŸŸåã€IPï¼Œå¹¶ä¸ä¼šç›´æ¥å¯¼è‡´ GFW å°é” VPS çš„ IPã€‚&lt;/li&gt;
&lt;li&gt;ç”±ç¬¬1ç‚¹ï¼Œæˆ–è®¸å¯ä»¥é‡‡ç”¨ VXLAN æŠ¥æ–‡ä½œä¸ºå¤–å±‚åŒ…è£…ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤ VPS IP çš„ç›®çš„ã€‚æ¯•ç«Ÿå„å¤§æœºåœºåŸºæœ¬éƒ½æ˜¯é€šè¿‡å›½å†…å…¬æœ‰äº‘ä¸­è½¬ï¼Œè€Œä¸­è½¬æµé‡å¾ˆå¤§ä¸€éƒ¨åˆ†åº”è¯¥è·‘åœ¨ VXLAN ä¹‹ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;VXLAN å¯¹æ€§èƒ½çš„æŸå¤±éå¸¸å°ï¼Œä½†ç”±äº VXLAN çš„é…ç½®éœ€è¦åŒå‘å…¬ç½‘ IPï¼Œæ²¡æœ‰å…¬ç½‘ IP çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨èµ·æ¥æœ‰ä¸¤ä¸ªæ€è·¯ï¼š
&lt;ol&gt;
&lt;li&gt;ä½œä¸ºå¤–å±‚åŒ…è£…åè®®ï¼Œå¹¶ä¸å®é™…åˆ›å»º VXLAN éš§é“ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å›½å†…å…¬æœ‰äº‘ä¸­è½¬ï¼Œå›½å†…å¤– VPS ç›´æ¥é…ç½® VXLAN éš§é“ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>